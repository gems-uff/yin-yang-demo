# Ying & Yang: Demonstrating Complementary Provenance from noWorkflow & YesWorkflow

To demonstrate how noWorkflow (NW) and YesWorkflow (YW) can be combined to answer provenance queries, we use a simulation of a crystallography experiment to collect X-ray diffraction data from a set of samples at a synchrotron radiation beam line. The script reads previously measured data quality statistics for each sample from an input spreadsheet, rejects samples that do not meet a minimum quality criterion, and, for the accepted samples, generates corrected images. Although this script uses meaningful variable names, it uses limited modularity. In fact, it has a single large top level function (simulate_data_collection) that performs several tasks. To cope with the code complexity, this function was annotated by a specialist user using YW annotation syntax. The complete annotated script is available at [simulate_data_collection.py](https://github.com/gems-uff/ying-yang-demo/blob/master/simulate_data_collection/simulate_data_collection.py).  

We run the annotated script using NW and export provenance to a Prolog file and generate the dataflow with NW. 
After that, we execute YW, that reads the source code and the files that were generated during the previous execution and captures provenance. We also export this provenance into a Prolog file and generate the dataflow using YW. 
As a third step, we take both Prolog files and use a previous approach to stitch the provenance records, producing a combined provenance graph. The three produced provenance graphs illustrate the different perspectives and granularities in which each tool captures provenance. The key question is now: how does these differences affect the ability of answering user queries? This is what we showcase in this demo.  
